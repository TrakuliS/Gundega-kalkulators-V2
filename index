<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uztura Kalkulators</title>
    <style>
        body { font-family: Arial; max-width: 700px; margin: 40px auto; padding: 20px; background: #f8f9fa; }
        input, select { padding: 10px; width: 100%; margin: 10px 0; box-sizing: border-box; }
        button { background: #007bff; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
        .result { margin-top: 30px; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <h1>Uztura Kalkulators</h1>
    
    <label>Svars (kg):</label>
    <input type="number" id="svars" value="78">

    <label>Augums (cm):</label>
    <input type="number" id="augums" value="166">

    <label>Vecums (gadi):</label>
    <input type="number" id="vecums" value="50">

    <label>Dzimums:</label>
    <select id="dzimums">
        <option value="V" selected>Vīrietis</option>
        <option value="S">Sieviete</option>
    </select>

    <label>Aktivitātes līmenis:</label>
    <select id="aktivitate">
        <option value="1.2">1.2 – Mazkustīgs</option>
        <option value="1.375">1.375 – Viegla</option>
        <option value="1.55" selected>1.55 – Vidēja</option>
        <option value="1.725">1.725 – Augsta</option>
        <option value="2.2">2.2+ – Ļoti augsta</option>
    </select>

    <button onclick="aprekinat()">Aprēķināt!</button>

    <div class="result" id="rezultats"></div>

    <script>
    function aprekinat() {
        const svars = parseFloat(document.getElementById("svars").value);
        const augums = parseFloat(document.getElementById("augums").value);
        const vecums = parseInt(document.getElementById("vecums").value);
        const dzimums = document.getElementById("dzimums").value;
        const aktivitates_faktors = parseFloat(document.getElementById("aktivitate").value);

        // Šeit ir VISAS tās pašas formulas kā tavā Excel failā
        const bmi = svars / ((augums / 100) ** 2);

        const ibw = dzimums === "V" 
            ? 50 + 2.3 * ((augums - 152.4) / 2.54)
            : 45.5 + 2.3 * ((augums - 152.4) / 2.54);

        const abw = bmi > 25 ? ibw + 0.4 * (svars - ibw) : svars;

        const bmr = dzimums === "V"
            ? 10 * svars + 6.25 * augums - 5 * vecums + 5
            : 10 * svars + 6.25 * augums - 5 * vecums - 161;

        const tdee = Math.round(bmr * aktivitates_faktors);

        const proteina_koef = {1.2:1.2, 1.375:1.4, 1.55:1.6, 1.725:1.8, 2.2:2.2}[aktivitates_faktors] || 1.6;
        const proteina_baze = bmi > 30 ? abw : svars;
        const proteins = Math.round(proteina_baze * proteina_koef * 10) / 10;

        const deficīts = bmi > 34 ? 750 : 500;
        const kalorijas = tdee - deficīts;

        let tauki = "", ogli = "", skidrumi = "";
        if (bmi >= 25) {
            const tauki_min = Math.round(kalorijas * 0.25 / 9);
            const tauki_max = Math.round(kalorijas * 0.35 / 9);
            const oh_min = Math.round((kalorijas - proteins*4 - tauki_max*9) / 4);
            const oh_max = Math.round((kalorijas - proteins*4 - tauki_min*9) / 4);
            tauki = `${tauki_min} – ${tauki_max} g`;
            ogli = `${oh_min} – ${oh_max} g`;
            skidrumi = `${(svars*30/1000).toFixed(1)} – ${(svars*40/1000).toFixed(1)} L`;
        } else {
            tauki = ogli = skidrumi = "Normāls svars – deficīts nav ieteicams";
        }

        document.getElementById("rezultats").innerHTML = `
            <h2>Rezultāti</h2>
            <p><strong>BMI:</strong> ${bmi.toFixed(1)}</p>
            <p><strong>BMR:</strong> ${Math.round(bmr)} kcal</p>
            <p><strong>TDEE (uzturēšanai):</strong> ${tdee} kcal</p>
            <p><strong>Ieteicamās kalorijas svara nomešanai:</strong> ${kalorijas} kcal</p>
            <p><strong>Proteīns:</strong> ${proteins} g</p>
            <p><strong>Tauki:</strong> ${tauki}</p>
            <p><strong>Ogļhidrāti:</strong> ${ogli}</p>
            <p><strong>Šķidrums:</strong> ${skidrumi}</p>
        `;
    }
    </script>
</body>
</html>
